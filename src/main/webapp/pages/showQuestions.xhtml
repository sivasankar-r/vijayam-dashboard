<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:a4j="http://richfaces.org/a4j"
    xmlns:rich="http://richfaces.org/rich">

<ui:composition template="/pages/templates/template.xhtml">
	<ui:define name="content">
	    <h:form id="showQuestionsForm">
	    	<div style="padding:20px">
		    	<rich:dataTable id="questionsTable" var="question" value="#{questionMBean.questionList}" rowKeyVar="rowKey" selectionMode="single">
			        <f:facet name="header">
			            <rich:columnGroup>
			                <rich:column colspan="6">
			                    <h:outputText value="All questions" />
			                </rich:column>
			                <rich:column breakRowBefore="true">
			                    <h:outputText value="S.No" />
			                </rich:column>
			                <rich:column>
			                    <h:outputText value="Question" />
			                </rich:column>
			                <rich:column>
			                    <h:outputText value="Type" />
			                </rich:column>
			                <rich:column>
			                    <h:outputText value="Points" />
			                </rich:column>
			                <rich:column>
			                    <h:outputText value="Difficulty" />
			                </rich:column>
							<rich:column>
			                    <h:outputText value="Action" />
			                </rich:column>
							
			            </rich:columnGroup>
			        </f:facet>
			        <rich:column style="text-align:center">
			        	<h:outputText value="#{rowKey+1}"/>
			        </rich:column>
			        
		            <rich:column style="text-align:left">
		                <h:outputText value="#{question.content}"/><br/><br/>
						<table>
							<tr>
								<ui:repeat var="option" value="#{question.optionList}">
									<td style="padding-right:5em; color:#{option.correct == true ? 'green' : 'red'}"><h:outputText value="#{option.content}"/></td>
								</ui:repeat>
							</tr>
						</table>
						
		            </rich:column>
		            <rich:column style="text-align:center">
		                <h:outputText value="#{question.typeDesc}"/>
		            </rich:column>
		             <rich:column style="text-align:center">
		                <h:outputText value="#{question.points}"/>
		            </rich:column>
		            <rich:column style="text-align:center">
		                <h:outputText value="#{question.difficulty}"/>
		            </rich:column>
		            <rich:column style="text-align:center">
						<h:commandButton id="btnEdit" value="Edit" action="#{questionEditController.loadEditQuestion}">
							<f:setPropertyActionListener target="#{questionEditMBean.selQuestion}" value="#{question}" />
						</h:commandButton>
		            </rich:column>
	        	</rich:dataTable>
	        </div>
		</h:form>
		
	</ui:define>
</ui:composition>
</html>